#!/bin/sh
# Run an editor that works.
export TMPDIR=/tmp
[ "$INSIDE_EMACS" ] && exec emacsclient -s "$EMACS_SERVER_NAME" "$@"
windowarg=-c
[ "$TERM" != dumb ] && [ -t 0 ] && windowarg=-nw
emacsclient -a "" $windowarg "$@" || emacs "$@" || nano "$@"
